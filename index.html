<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <title>YouMeJS by XTremEive</title>
    <link rel="stylesheet" type="text/css" href="less/style.css" />
    <script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
    <link rel="stylesheet" href="http://yandex.st/highlightjs/8.0/styles/sunburst.min.css">
    <script src="http://yandex.st/highlightjs/8.0/highlight.min.js"></script>
    <script src="js/mas.js"></script>
    <script>
        $(function() {
            hljs.configure({useBR: true, tabReplace: '    '});

            $('code.html').each(function(i, e) {hljs.highlightBlock(e, 'html')});
            $('code.js').each(function(i, e) {hljs.highlightBlock(e, 'js')});
        });
    </script>
    <script>
        MyAwesomeService.load(function() {
            // Start the service
            MyAwesomeService.start(true, '.demo');
        });
    </script>
</head>

<body>
<header>
    <div class="container">
        <a href="https://github.com/XTremEive/YouMeJS" class="button">Get it on Github!</a>
        <h1>YouMeJS &hearts;</h1>
        <p>The <em>simple</em> library to help developers creating <em>powerful</em> web widgets.</p>
    </div>
</header>

<div class="body">
    <div class="">
        <section class="container">
            <h2>So... What is it?</h2>
            <p><b>YouMeJS</b> is a <a href="http://knockoutjs.com/">Knockout</a> inspired library, designed for web widget developers, also known as &quot;People who make software for other people who make software&quot;.</p>
            <h3>Features</h3>
            <ul>
                <li><a href="http://knockoutjs.com/">Knockout</a> inspired template syntax including display, conditions, loops, nesting, input...</li>
                <li>...</li>
            </ul>
            <h3>Requirements and compatibility.</h3>
            <p>For now YouMeJS requires <a href="http://jquery.com/">jQuery</a> on the client side and as yet to be tested on different browser. But if this interactive guide works for you, then YouMeJS is probably compatible with your browser.</p>
        </section>
    </div>

    <!--
    ------------------------------------------------------------------------------------------------------------------------------------
    Getting started:
        You can check js/mas.js on this server to see a more realistic example.
    ------------------------------------------------------------------------------------------------------------------------------------
    -->
    <div class="dark">
        <section class="container">
            <h2>Getting started</h2>
            <p>
                As a web widget developer, keep in mind that your job is to create a service (an API, a widget or whatever interface), to bring additional logic to your fellow developer's website.
                In this guide we will develop a Javascript object called <em>MyAwesomeService</em> which will act as such interface. So lets get started.
            </p>
            <code class="js">
                // /js/mas.js<br />
                MyAwesomeService = {};
            </code>
            <p>That's it you're done. Now the client can load your code and get access to <em>MyAwesomeService</em></p>
            <code class="html">
                &lt;!-- /index.html --&gt;<br />
                &lt;script src=&quot;js/mas.js&quot;&gt;&lt;/script&gt;<br />
                &lt;script&gt;<br />
                    console.log(MyAwesomeService);<br />
                &lt;/script&gt;<br />
            </code>
            <p>It's usually a good idea to let the client start the service whenever he wants. That why we're going to expose a <em>load()</em> function which transforms our simple object into a more advanced interface.<p>
            <code class="js">
                // /js/mas.js<br />
                /**<br />
                &nbsp;* Widget developer's code (that's you!).<br />
                &nbsp;* You might consider moving such code to your own server so the client can access it using<br />
                &nbsp;* &lt;script src=&quot;http://myawesomedomain.com/api/mas.js&quot;&gt;&lt;/script&gt; or something.<br />
                */<br />
                <br />
                // We expose a application interface in the global space.<br />
                MyAwesomeService = {<br />
                &nbsp;&nbsp;<br />
                &nbsp;&nbsp;// The load function will our client's entry point.<br />
                &nbsp;&nbsp;load: function()<br />
                &nbsp;&nbsp;{<br />
                &nbsp;&nbsp;&nbsp;&nbsp;// For the sake of the demo we're using jQuery to load the origin YouMe,<br />
                &nbsp;&nbsp;&nbsp;&nbsp;// but in a real case scenario youme.x.x.x.min.js and mas.js would be one file.<br />
                &nbsp;&nbsp;&nbsp;&nbsp;var YouMePath = 'js/youme.0.0.2.min.js';<br />
                &nbsp;&nbsp;&nbsp;&nbsp;$.getScript(YouMePath, function() {<br />
                <br />
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// We transform our application interface in an advanced application interface using YouMe<br />
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MyAwesomeService = YouMe();<br />
                <br />
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Then you define some function to be exposed to our client.<br />
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// For the sake of the demo the parameter provided is a debug flag... But it doesn't have to be exposed in a real case..<br />
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// We also provide a selector to work only on the demo part of the document... Think about the possibilities.<br />
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MyAwesomeService.start = function(debug, selector) {<br />
                <br />
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Finally you call &quot;fuse&quot; (a function from the initial YouMe object)<br />
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// The first argument is a selector<br />
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// The second argument is an name to use in parsing. Here it's &quot;mas&quot;<br />
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// The third parameter is a set of options.<br />
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.fuse(selector, 'mas', { // &quot;mas&quot; stands for &quot;MyAwesomeService&quot;... Obviously.<br />
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;debug: debug<br />
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});<br />
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};<br />
                <br />
                &nbsp;&nbsp;&nbsp;&nbsp;});<br />
                &nbsp;&nbsp;}<br />
                };
            </code>
            <p>It's a lot of comments but it's only 7 lines of code... Really.</p>
        </section>
    </div>

    <!--
    ------------------------------------------------------------------------------------------------------------------------------------
    Expose and display variables:
        If you check /js/mas.js you'll notice that we're using the built-in mock storage for this demo.
        Even though a Mock storage is useless in a production environment, it expose a clean view of our model, perfect for teaching.
    ------------------------------------------------------------------------------------------------------------------------------------
    -->
    <div class="darker">
        <section class="container">
            <h2>Expose and display variables</h2>
            <p>
                As web widget developer you must know that YouMe will take care of exposing a comprehensive language to your client, but it's you who decides on the backend of this language.<br />
                To do so you must provide the <em>YouMe()</em> function with a <em>Storage</em> object as a parameter. Like so:
            </p>
            <code class="js">
                // /js/mas.js<br />
                <br />
                // [...]<br />
                var myStorage = /* Put here your code to create your own storage object */;<br />
                MyAwesomeService = YouMe(myStorage);<br />
                // [...]
            </code>

            <p>Here is an example of a minimal <em>Storage</em> object:</p>
            <code class="js">
                // A constructor, fill free to add parameters such API key, options or whatever.<br />
                var MyStorage = function()<br />
                {<br />
                &nbsp;&nbsp;// Insert your own code here<br />
                };<br />
                <br />
                // Set is called when YouMe tries to store a new variable in this storage.<br />
                MyStorage.prototype.set = function(name, value)<br />
                {<br />
                &nbsp;&nbsp;// Insert your own code here<br />
                <br />
                &nbsp;&nbsp;return this; // Return &quot;this&quot; to allow chaining.<br />
                };<br />
                <br />
                // Get is called when YouMe tries to retrieve a variable from this storage.<br />
                MyStorage.prototype.get = function(name, defaultValue)<br />
                {<br />
                &nbsp;&nbsp;// Insert your own code here<br />
                <br />
                &nbsp;&nbsp;return defaultValue; // If your storage doesn't contain the requested variable, please return the defaultValue argument.<br />
                };<br />
                <br />
                // Unset is called when YouMe tries to erase a variable from this storage.<br />
                MyStorage.prototype.unset = function(key)<br />
                {<br />
                &nbsp;&nbsp;// Insert your own code here<br />
                <br />
                &nbsp;&nbsp;return this; // Return &quot;this&quot; to allow chaining.<br />
                };<br />
                <br />
                // Has will be called when YouMe wants to know if a variable exists in this storage.<br />
                MyStorage.prototype.has = function(key)<br />
                {<br />
                &nbsp;&nbsp;// Insert your own code here<br />
                <br />
                &nbsp;&nbsp;return false; // Return false if you don't &quot;has&quot; it. :3<br />
                };<br />
                <br />
                // Save is called whenever YouMe ask for storage to be persisted.<br />
                // It's usually when you send variables to your server.<br />
                MyStorage.prototype.save = function()<br />
                {<br />
                &nbsp;&nbsp;// Insert your own code here<br />
                <br />
                &nbsp;&nbsp;return this; // Return &quot;this&quot; to allow chaining.<br />
                };
            </code>
            <p>As you can see the <em>Storage</em> object must implement at least <em>set()</em>, <em>unset()</em>, <em>has()</em>, <em>get()</em>, and <em>save()</em>. You can include any logic behind those functions.</p>

            <p>For this demo we will create a storage which contains the following variables.</p>
            <dl class="storage">
                <dt>aSimpleVariable:</dt>
                <dd class="demo" data-mas="text: aSimpleVariable">---</dd>
                <dt>aSimpleTrueBoolean:</dt>
                <dd class="demo" data-mas="text: aSimpleTrueBoolean">---</dd>
                <dt>aSimpleFalseBoolean:</dt>
                <dd class="demo" data-mas="text: aSimpleFalseBoolean">---</dd>
                <dt>aSimpleArray:</dt>
                <dd class="demo" data-mas="text: aSimpleArray">---</dd>
                <dt>aSimpleObject:</dt>
                <dd class="demo" data-mas="text: aSimpleObject">---</dd>
            </dl>

            <p>Doing so will make them available for client, here is how your fellow developer will access those variables in his HTML page (please not the use of <b>mas</b> keyword which is your own defined namespace).</p>
            <code class="html">
                &lt;p data-mas='text: aSimpleVariable'&gt;&lt;/p&gt;<br />
                &lt;p data-mas='text: aSimpleArray'&gt;&lt;/p&gt;<br />
                &lt;p data-mas='text: aSimpleArray.0'&gt;&lt;/p&gt;<br />
                &lt;p data-mas='text: aSimpleArray.length'&gt;&lt;/p&gt;<br />
                &lt;p data-mas='text: aSimpleObject'&gt;&lt;/p&gt;<br />
                &lt;p data-mas='text: aSimpleObject.id'&gt;&lt;/p&gt;<br />
                &lt;p&gt;&lt;a href=&quot;#&quot; data-mas='attribute: {&quot;href&quot;: &quot;aSimpleObject.url&quot;}'&gt;A simple link&lt;/a&gt;&lt;/p&gt;<br />
                &lt;p&gt;&lt;img src=&quot;&quot; alt=&quot;&quot; data-mas='attribute: {&quot;src&quot;: &quot;aSimpleObject.image&quot;, &quot;alt&quot;: &quot;aSimpleObject.name&quot;}' /&gt;&lt;/p&gt;<br />
                &lt;p&gt;&lt;a href=&quot;#&quot; data-mas='text: aSimpleObject.name, attribute: {&quot;href&quot;: &quot;aSimpleObject.url&quot;}'&gt;&lt;/a&gt;&lt;/p&gt;
            </code>

            <p>And the result...</p>
            <div class="demo">
                <!-- Display a variable -->
                <p data-mas='text: aSimpleVariable'></p>
                <p data-mas='text: aSimpleArray'></p>
                <p data-mas='text: aSimpleArray.3'></p>
                <p data-mas='text: aSimpleArray.length'></p>
                <p data-mas='text: aSimpleObject'></p>
                <p data-mas='text: aSimpleObject.id'></p>
                <p><a href="#" data-mas='attribute: {"href": "aSimpleObject.url"}'>A simple link</a></p>
                <p><img src="" alt="" data-mas='attribute: {"src": "aSimpleObject.image", "alt": "aSimpleObject.name"}' /></p>
                <p><a href="#" data-mas='text: aSimpleObject.name, attribute: {"href": "aSimpleObject.url"}'></a></p>
            </div>

            <p>To be continued...</p>
        </section>
    </div>

    <div class="">
        <section class="container">
            <h2>Conditions</h2>
            <p>Without asking to change the storage that you declared so far, YouMe offers the possibility for your client to declare conditions in his HTML page.</p>

            <p>Here are some condition examples</p>
            <code class="html">
                &lt;p data-mas=&quot;if: aSimpleTrueBoolean&quot;&gt;This paragraph should be shown&lt;/p&gt;<br />
                &lt;!-- mas if: aSimpleTrueBoolean --&gt;<br />
                &lt;p&gt;This paragraph will be shown because aSimpleTrueBoolean is evaluated as true.&lt;/p&gt;<br />
                &lt;!-- /mas --&gt;<br />
                <br />
                &lt;p data-mas=&quot;if: aSimpleFalseBoolean&quot;&gt;But not this one.&lt;/p&gt;<br />
                &lt;!-- mas if: aSimpleFalseBoolean --&gt;<br />
                &lt;p&gt;This paragraph will be hidden because aSimpleFalseBoolean is evaluated as false.&lt;/p&gt;<br />
                &lt;!-- /mas --&gt;<br />
                <br />
                &lt;p data-mas=&quot;if: aSimpleTrueBoolean &amp;&amp; aSimpleFalseBoolean&quot;&gt;This paragraph will be hidden, thanks to our simple logic evaluation.&lt;/p&gt;<br />
                &lt;p data-mas=&quot;if: aSimpleTrueBoolean || aSimpleFalseBoolean&quot;&gt;This paragraph will be visible, thanks to our simple logic evaluation.&lt;/p&gt;<br />
                <br />
                &lt;p&gt;&lt;a href=&quot;#&quot; data-mas='attribute: {&quot;title&quot;: &quot;I am a tooltip!&quot;} {&quot;title&quot;: &quot;aSimpleArray.length &gt; 3&quot;}'&gt;This link will have tooltip&lt;/a&gt;&lt;/p&gt;<br />
                &lt;p&gt;&lt;a href=&quot;#&quot; data-mas='attribute: {&quot;title&quot;: &quot;I am a tooltip!&quot;} {&quot;title&quot;: &quot;aSimpleArray.length == 3&quot;}'&gt;This link will not have a tooltip&lt;/a&gt;&lt;/p&gt;
            </code>
            <p>And the result...</p>
            <div class="demo">
                <p data-mas="if: aSimpleTrueBoolean">This paragraph should be shown</p>
                <!-- mas if: aSimpleTrueBoolean -->
                <p>This paragraph will be shown because aSimpleTrueBoolean is evaluated as true.</p>
                <!-- /mas -->

                <p data-mas="if: aSimpleFalseBoolean">But not this one.</p>
                <!-- mas if: aSimpleFalseBoolean -->
                <p>This paragraph will be hidden because aSimpleFalseBoolean is evaluated as false.</p>
                <!-- /mas -->

                <p data-mas="if: aSimpleTrueBoolean && aSimpleFalseBoolean">This paragraph will be hidden, thanks to our simple logic evaluation.</p>
                <p data-mas="if: aSimpleTrueBoolean || aSimpleFalseBoolean">This paragraph will be visible, thanks to our simple logic evaluation.</p>

                <p><a href="#" data-mas='attribute: {"title": "I am a tooltip!"} {"title": "aSimpleArray.length > 3"}'>This link will have tooltip</a></p>
                <p><a href="#" data-mas='attribute: {"title": "I am a tooltip!"} {"title": "aSimpleArray.length == 3"}'>This link will not have a tooltip</a></p>
            </div>
            <p>For the sake of brevity. We did not repeat the alternative comment syntaxes, but keep in mind that they are available.<br />
               For the same reason we did not expand all operators, but keep in mind that <em>==</em>, <em>!=</em> <em>&gt;</em> <em>&lt;</em> <em>&gt;=</em> <em>&lt;=</em> <em>||</em> and <em>&amp;&amp;</em> are all available.<br />
               Conditional attributes are a little bit tricky. Think of them as two JSON separated by a space: one for attributes, the other one for conditions.<br />
               ... And yes conditions can be nested.</p>
        </section>
    </div>

    <div class="darker">
        <section class="container">
            <h2>Loops</h2>
            <p>Loops is the second present given to your client pages, without needing you to provide any additional line of code. Here are some examples:</p>
            <code class="html">
                &lt;!-- mas for: aSimpleArray --&gt;<br />
                &lt;p data-mas=&quot;text: context.item&quot;&gt;&lt;/p&gt;<br />
                &lt;!-- /mas --&gt;<br />
                <br />
                &lt;ul data-mas=&quot;for: aSimpleArray&quot;&gt;<br />
                &nbsp;&nbsp;&lt;li&gt;Index: &lt;span data-mas=&quot;text: context.loopIndex&quot;&gt;&lt;/span&gt; / Length: &lt;span data-mas=&quot;text: context.loopLength&quot;&gt;&lt;/span&gt;&lt;/li&gt;<br />
                &lt;/ul&gt;
            </code>
            <p>And the results</p>
            <div class="demo">
                <!-- mas for: aSimpleArray -->
                <p data-mas="text: context.item"></p>
                <!-- /mas -->

                <ul data-mas="for: aSimpleArray">
                    <li>Index: <span data-mas="text: context.loopIndex"></span> / Length: <span data-mas="text: context.loopLength"></span></li>
                </ul>
            </div>
            <p>Loops works for any array variables. But in loop a special variable named <em>context</em> makes its debut.<br />
            The context variable exposes <em>context.item</em>, <em>context.loopIndex</em> and <em>context.loopLength</em> properties.<br />
            Finally, as for conditions, the comment syntax is also available.</p>
        </section>
    </div>

    <div class="dark">
        <section class="container">
            <h2>Set variables and save</h2>
            <p>For some widgets it can be important to allow the user to input some information. Here is how a developer would set this up in his HTML page.</p>
            <div class="demo">
                <form methd="get" action="">
                    <input name="aSimpleVariable" type="text" value="" data-mas="input: aSimpleVariable" />
                    <input type="button" data-mas="save" value="Save" />
                </form>
            </div>
        </section>
    </div>

</div>

<footer>
    <div class="container">
        YouMeJS is maintained by <a href="https://github.com/XTremEive">XTremEive</a>.
    </div>
</footer>

</body>
</html>
